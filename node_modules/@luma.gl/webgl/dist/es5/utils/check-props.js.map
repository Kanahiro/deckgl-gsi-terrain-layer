{"version":3,"sources":["../../../src/utils/check-props.js"],"names":["checkProps","className","props","propChecks","removedProps","deprecatedProps","replacedProps","propName","replacementProp","replacement","log","removed","deprecated","newProps","Object","assign"],"mappings":";;;;;;;AA6BA;;AAEO,SAASA,UAAT,CAAoBC,SAApB,EAA+BC,KAA/B,EAAsCC,UAAtC,EAAkD;AAAA,8BACeA,UADf,CAChDC,YADgD;AAAA,MAChDA,YADgD,sCACjC,EADiC;AAAA,8BACeD,UADf,CAC7BE,eAD6B;AAAA,MAC7BA,eAD6B,sCACX,EADW;AAAA,8BACeF,UADf,CACPG,aADO;AAAA,MACPA,aADO,sCACS,EADT;;AAKvD,OAAK,IAAMC,QAAX,IAAuBH,YAAvB,EAAqC;AACnC,QAAIG,QAAQ,IAAIL,KAAhB,EAAuB;AACrB,UAAMM,eAAe,GAAGJ,YAAY,CAACG,QAAD,CAApC;AACA,UAAME,WAAW,GAAGD,eAAe,aAAMP,SAAN,cAAmBG,YAAY,CAACG,QAAD,CAA/B,IAA8C,KAAjF;;AACAG,mBAAIC,OAAJ,WAAeV,SAAf,cAA4BM,QAA5B,GAAwCE,WAAxC;AACD;AACF;;AAID,OAAK,IAAMF,SAAX,IAAuBF,eAAvB,EAAwC;AACtC,QAAIE,SAAQ,IAAIL,KAAhB,EAAuB;AACrB,UAAMM,gBAAe,GAAGH,eAAe,CAACE,SAAD,CAAvC;;AACAG,mBAAIE,UAAJ,WAAkBX,SAAlB,cAA+BM,SAA/B,aAA8CN,SAA9C,cAA2DO,gBAA3D;AACD;AACF;;AAID,MAAIK,QAAQ,GAAG,IAAf;;AACA,OAAK,IAAMN,UAAX,IAAuBD,aAAvB,EAAsC;AACpC,QAAIC,UAAQ,IAAIL,KAAhB,EAAuB;AACrB,UAAMM,iBAAe,GAAGF,aAAa,CAACC,UAAD,CAArC;;AACAG,mBAAIE,UAAJ,WAAkBX,SAAlB,cAA+BM,UAA/B,aAA8CN,SAA9C,cAA2DO,iBAA3D;;AACAK,MAAAA,QAAQ,GAAGA,QAAQ,IAAIC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBb,KAAlB,CAAvB;AACAW,MAAAA,QAAQ,CAACL,iBAAD,CAAR,GAA4BN,KAAK,CAACK,UAAD,CAAjC;AACA,aAAOM,QAAQ,CAACN,UAAD,CAAf;AACD;AACF;;AAED,SAAOM,QAAQ,IAAIX,KAAnB;AACD","sourcesContent":["/* Use as\nimport {checkProps} from '../util/check-props;'\n\nconst PROP_CHECKS = {\n  // Removed props no longer supported, print error and link to upgrade guide\n  removedProps: {\n  },\n  // Deprecated props\n  deprecatedProps: {\n    offset: 'accessor',\n    stride: 'accessor',\n    type: 'accessor',\n    size: 'accessor',\n    divisor: 'accessor',\n    normalized: 'accessor',\n    integer: 'accessor'\n  },\n  // Deprecated props that can be autosubstituted, print warning and return updated props object\n  replacedProps: {\n    bytes: 'byteLength'\n  }\n}\n\nclass Buffer {\n  setProps(props) {\n    checkProps('Buffer', props, PROP_CHECKS);\n  }\n}\n*/\nimport {log} from '@luma.gl/gltools';\n\nexport function checkProps(className, props, propChecks) {\n  const {removedProps = {}, deprecatedProps = {}, replacedProps = {}} = propChecks;\n\n  // removedProps: Removed props no longer supported\n  // print error and link to upgrade guide\n  for (const propName in removedProps) {\n    if (propName in props) {\n      const replacementProp = removedProps[propName];\n      const replacement = replacementProp ? `${className}.${removedProps[propName]}` : 'N/A';\n      log.removed(`${className}.${propName}`, replacement)();\n    }\n  }\n\n  // deprecatedProps: Deprecated props that can not be autosubstituted\n  // print warning and rely on caller to substitute\n  for (const propName in deprecatedProps) {\n    if (propName in props) {\n      const replacementProp = deprecatedProps[propName];\n      log.deprecated(`${className}.${propName}`, `${className}.${replacementProp}`)();\n    }\n  }\n\n  // replacedProps: Deprecated props that can be autosubstituted\n  // print warning and return updated props object\n  let newProps = null;\n  for (const propName in replacedProps) {\n    if (propName in props) {\n      const replacementProp = replacedProps[propName];\n      log.deprecated(`${className}.${propName}`, `${className}.${replacementProp}`)();\n      newProps = newProps || Object.assign({}, props);\n      newProps[replacementProp] = props[propName];\n      delete newProps[propName];\n    }\n  }\n\n  return newProps || props;\n}\n"],"file":"check-props.js"}