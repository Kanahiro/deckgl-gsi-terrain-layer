{"version":3,"sources":["../../../src/classes/texture-2d.js"],"names":["Texture","assertWebGLContext","loadImage","Texture2D","gl","opts","isSupported","props","Promise","data","Object","assign","target","initialize","seal"],"mappings":";;;;;;AACA,OAAOA,OAAP,MAAoB,WAApB;AACA,SAAQC,kBAAR,QAAiC,gBAAjC;AACA,SAAQC,SAAR,QAAwB,oBAAxB;;IAEqBC,S;;;;;gCACAC,E,EAAIC,I,EAAM;AAC3B,aAAOL,OAAO,CAACM,WAAR,CAAoBF,EAApB,EAAwBC,IAAxB,CAAP;AACD;;;AAED,qBAAYD,EAAZ,EAA4B;AAAA;;AAAA,QAAZG,KAAY,uEAAJ,EAAI;;AAAA;;AAC1BN,IAAAA,kBAAkB,CAACG,EAAD,CAAlB;;AAGA,QAAIG,KAAK,YAAYC,OAAjB,IAA4B,OAAOD,KAAP,KAAiB,QAAjD,EAA2D;AACzDA,MAAAA,KAAK,GAAG;AAACE,QAAAA,IAAI,EAAEF;AAAP,OAAR;AACD;;AAGD,QAAI,OAAOA,KAAK,CAACE,IAAb,KAAsB,QAA1B,EAAoC;AAClCF,MAAAA,KAAK,GAAGG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAACE,QAAAA,IAAI,EAAEP,SAAS,CAACK,KAAK,CAACE,IAAP;AAAhB,OAAzB,CAAR;AACD;;AAED,mFAAML,EAAN,EAAUM,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAACK,MAAAA,MAAM;AAAP,KAAzB,CAAV;;AAEA,UAAKC,UAAL,CAAgBN,KAAhB;;AAEAG,IAAAA,MAAM,CAACI,IAAP;AAjB0B;AAkB3B;;;EAvBoCd,O;;SAAlBG,S","sourcesContent":["import GL from '@luma.gl/constants';\nimport Texture from './texture';\nimport {assertWebGLContext} from '../webgl-utils';\nimport {loadImage} from '../utils/load-file';\n\nexport default class Texture2D extends Texture {\n  static isSupported(gl, opts) {\n    return Texture.isSupported(gl, opts);\n  }\n\n  constructor(gl, props = {}) {\n    assertWebGLContext(gl);\n\n    // Signature: new Texture2D(gl, url | Promise)\n    if (props instanceof Promise || typeof props === 'string') {\n      props = {data: props};\n    }\n\n    // Signature: new Texture2D(gl, {data: url})\n    if (typeof props.data === 'string') {\n      props = Object.assign({}, props, {data: loadImage(props.data)});\n    }\n\n    super(gl, Object.assign({}, props, {target: GL.TEXTURE_2D}));\n\n    this.initialize(props);\n\n    Object.seal(this);\n  }\n}\n"],"file":"texture-2d.js"}