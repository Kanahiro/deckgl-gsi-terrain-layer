{"version":3,"sources":["../../../../src/lib/filters/prop-types.js"],"names":["TYPE_DEFINITIONS","number","validate","value","propType","Number","isFinite","max","min","array","Array","isArray","ArrayBuffer","isView","parsePropTypes","propDefs","propTypes","propName","propDef","parsePropType","type","getTypeOf","Object","assign"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG;AACvBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,QAAQ,CAACC,KAAD,EAAQC,QAAR,EAAkB;AACxB,aACEC,MAAM,CAACC,QAAP,CAAgBH,KAAhB,MACC,EAAE,SAASC,QAAX,KAAwBD,KAAK,IAAIC,QAAQ,CAACG,GAD3C,MAEC,EAAE,SAASH,QAAX,KAAwBD,KAAK,IAAIC,QAAQ,CAACI,GAF3C,CADF;AAKD;;AAPK,GADe;AAUvBC,EAAAA,KAAK,EAAE;AACLP,IAAAA,QAAQ,CAACC,KAAD,EAAQC,QAAR,EAAkB;AACxB,aAAOM,KAAK,CAACC,OAAN,CAAcR,KAAd,KAAwBS,WAAW,CAACC,MAAZ,CAAmBV,KAAnB,CAA/B;AACD;;AAHI;AAVgB,CAAzB;AAiBA,OAAO,SAASW,cAAT,CAAwBC,QAAxB,EAAkC;AACvC,QAAMC,SAAS,GAAG,EAAlB;;AACA,OAAK,MAAMC,QAAX,IAAuBF,QAAvB,EAAiC;AAC/B,UAAMG,OAAO,GAAGH,QAAQ,CAACE,QAAD,CAAxB;AACA,UAAMb,QAAQ,GAAGe,aAAa,CAACD,OAAD,CAA9B;AACAF,IAAAA,SAAS,CAACC,QAAD,CAAT,GAAsBb,QAAtB;AACD;;AACD,SAAOY,SAAP;AACD;;AAKD,SAASG,aAAT,CAAuBD,OAAvB,EAAgC;AAC9B,MAAIE,IAAI,GAAGC,SAAS,CAACH,OAAD,CAApB;;AACA,MAAIE,IAAI,KAAK,QAAb,EAAuB;AACrB,QAAI,CAACF,OAAL,EAAc;AACZ,aAAO;AAACE,QAAAA,IAAI,EAAE,QAAP;AAAiBjB,QAAAA,KAAK,EAAE;AAAxB,OAAP;AACD;;AACD,QAAI,UAAUe,OAAd,EAAuB;AACrB,aAAOI,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,OAAlB,EAA2BlB,gBAAgB,CAACkB,OAAO,CAACE,IAAT,CAA3C,CAAP;AACD;;AACD,QAAI,EAAE,WAAWF,OAAb,CAAJ,EAA2B;AAEzB,aAAO;AAACE,QAAAA,IAAI,EAAE,QAAP;AAAiBjB,QAAAA,KAAK,EAAEe;AAAxB,OAAP;AACD;;AACDE,IAAAA,IAAI,GAAGC,SAAS,CAACH,OAAO,CAACf,KAAT,CAAhB;AACA,WAAOmB,MAAM,CAACC,MAAP,CAAc;AAACH,MAAAA;AAAD,KAAd,EAAsBF,OAAtB,EAA+BlB,gBAAgB,CAACoB,IAAD,CAA/C,CAAP;AACD;;AACD,SAAOE,MAAM,CAACC,MAAP,CAAc;AAACH,IAAAA,IAAD;AAAOjB,IAAAA,KAAK,EAAEe;AAAd,GAAd,EAAsClB,gBAAgB,CAACoB,IAAD,CAAtD,CAAP;AACD;;AAGD,SAASC,SAAT,CAAmBlB,KAAnB,EAA0B;AACxB,MAAIO,KAAK,CAACC,OAAN,CAAcR,KAAd,KAAwBS,WAAW,CAACC,MAAZ,CAAmBV,KAAnB,CAA5B,EAAuD;AACrD,WAAO,OAAP;AACD;;AACD,SAAO,OAAOA,KAAd;AACD","sourcesContent":["const TYPE_DEFINITIONS = {\n  number: {\n    validate(value, propType) {\n      return (\n        Number.isFinite(value) &&\n        (!('max' in propType) || value <= propType.max) &&\n        (!('min' in propType) || value >= propType.min)\n      );\n    }\n  },\n  array: {\n    validate(value, propType) {\n      return Array.isArray(value) || ArrayBuffer.isView(value);\n    }\n  }\n};\n\nexport function parsePropTypes(propDefs) {\n  const propTypes = {};\n  for (const propName in propDefs) {\n    const propDef = propDefs[propName];\n    const propType = parsePropType(propDef);\n    propTypes[propName] = propType;\n  }\n  return propTypes;\n}\n\n// Parses one property definition entry. Either contains:\n// * a valid prop type object ({type, ...})\n// * or just a default value, in which case type and name inference is used\nfunction parsePropType(propDef) {\n  let type = getTypeOf(propDef);\n  if (type === 'object') {\n    if (!propDef) {\n      return {type: 'object', value: null};\n    }\n    if ('type' in propDef) {\n      return Object.assign({}, propDef, TYPE_DEFINITIONS[propDef.type]);\n    }\n    if (!('value' in propDef)) {\n      // If no type and value this object is likely the value\n      return {type: 'object', value: propDef};\n    }\n    type = getTypeOf(propDef.value);\n    return Object.assign({type}, propDef, TYPE_DEFINITIONS[type]);\n  }\n  return Object.assign({type, value: propDef}, TYPE_DEFINITIONS[type]);\n}\n\n// improved version of javascript typeof that can distinguish arrays and null values\nfunction getTypeOf(value) {\n  if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n    return 'array';\n  }\n  return typeof value;\n}\n"],"file":"prop-types.js"}