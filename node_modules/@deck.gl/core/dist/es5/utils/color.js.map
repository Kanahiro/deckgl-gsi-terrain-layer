{"version":3,"sources":["../../../src/utils/color.js"],"names":["parseColor","color","target","index","Array","isArray","ArrayBuffer","isView","length","parseHexColor","value","parseInt","substring","Math","floor","applyOpacity","opacity"],"mappings":"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","sourcesContent":["// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n// Parse array or string color\nfunction parseColor(color, target, index = 0) {\n  if (Array.isArray(color) || ArrayBuffer.isView(color)) {\n    if (!target && color.length === 4) {\n      return color;\n    }\n\n    target = target || [];\n    target[index + 0] = color[0];\n    target[index + 1] = color[1];\n    target[index + 2] = color[2];\n    target[index + 3] = color.length === 4 ? color[3] : 255;\n    return target;\n  }\n\n  if (typeof color === 'string') {\n    target = target || [];\n    parseHexColor(color, target, index);\n    return target;\n  }\n\n  return [0, 0, 0, 255];\n}\n\n// Parse a hex color\nfunction parseHexColor(color, target, index) {\n  if (color.length === 7) {\n    const value = parseInt(color.substring(1), 16);\n    target[index + 0] = Math.floor(value / 65536);\n    target[index + 1] = Math.floor((value / 256) % 256);\n    target[index + 2] = value % 256;\n    target[index + 3] = 255;\n  } else if (color.length === 9) {\n    const value = parseInt(color.substring(1), 16);\n    target[index + 0] = Math.floor(value / 16777216);\n    target[index + 1] = Math.floor((value / 65536) % 256);\n    target[index + 2] = Math.floor((value / 256) % 256);\n    target[index + 3] = value % 256;\n  }\n  return index + 4;\n}\n\nfunction applyOpacity(color, opacity = 127) {\n  return [color[0], color[1], color[2], opacity];\n}\n\n// Named exports have a small perf hit in webpack, normally OK\n// but for utils that will be called in tight inner loops, export as object\nexport default {parseColor, applyOpacity};\n"],"file":"color.js"}