{"version":3,"sources":["../../../src/layers/carto-bqtiler-layer.js"],"names":["CartoLayer","BQ_TILEJSON_ENDPOINT","CartoBQTilerLayer","_updateTileJSON","response","fetch","props","data","headers","Accept","tilejson","json","setState","layerName"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,eAAvB;AAEA,MAAMC,oBAAoB,GAAG,yDAA7B;AAEA,eAAe,MAAMC,iBAAN,SAAgCF,UAAhC,CAA2C;AACxD,QAAMG,eAAN,GAAwB;AAGtB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,WAAIJ,oBAAJ,gBAA8B,KAAKK,KAAL,CAAWC,IAAzC,GAAiD;AAC3EC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT;AADkE,KAAjD,CAA5B;AAMA,UAAMC,QAAQ,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAvB;AACA,SAAKC,QAAL,CAAc;AAACF,MAAAA;AAAD,KAAd;AACD;;AAZuD;AAe1DR,iBAAiB,CAACW,SAAlB,GAA8B,mBAA9B","sourcesContent":["import CartoLayer from './carto-layer';\n\nconst BQ_TILEJSON_ENDPOINT = 'https://us-central1-cartobq.cloudfunctions.net/tilejson';\n\nexport default class CartoBQTilerLayer extends CartoLayer {\n  async _updateTileJSON() {\n    /* global fetch */\n    /* eslint no-undef: \"error\" */\n    const response = await fetch(`${BQ_TILEJSON_ENDPOINT}?t=${this.props.data}`, {\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    const tilejson = await response.json();\n    this.setState({tilejson});\n  }\n}\n\nCartoBQTilerLayer.layerName = 'CartoBQTilerLayer';\n"],"file":"carto-bqtiler-layer.js"}