{"version":3,"sources":["../../../src/layers/carto-bqtiler-layer.js"],"names":["BQ_TILEJSON_ENDPOINT","CartoBQTilerLayer","fetch","props","data","headers","Accept","response","json","tilejson","setState","CartoLayer","layerName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAMA,oBAAoB,GAAG,yDAA7B;;IAEqBC,iB;;;;;;;;;;;;;;;;;;;;uBAIMC,KAAK,WAAIF,oBAAJ,gBAA8B,KAAKG,KAAL,CAAWC,IAAzC,GAAiD;AAC3EC,kBAAAA,OAAO,EAAE;AACPC,oBAAAA,MAAM,EAAE,kBADD;AAEP,oCAAgB;AAFT;AADkE,iBAAjD,C;;;AAAtBC,gBAAAA,Q;;uBAMiBA,QAAQ,CAACC,IAAT,E;;;AAAjBC,gBAAAA,Q;AACN,qBAAKC,QAAL,CAAc;AAACD,kBAAAA,QAAQ,EAARA;AAAD,iBAAd;;;;;;;;;;;;;;;;;;EAX2CE,sB;;;AAe/CV,iBAAiB,CAACW,SAAlB,GAA8B,mBAA9B","sourcesContent":["import CartoLayer from './carto-layer';\n\nconst BQ_TILEJSON_ENDPOINT = 'https://us-central1-cartobq.cloudfunctions.net/tilejson';\n\nexport default class CartoBQTilerLayer extends CartoLayer {\n  async _updateTileJSON() {\n    /* global fetch */\n    /* eslint no-undef: \"error\" */\n    const response = await fetch(`${BQ_TILEJSON_ENDPOINT}?t=${this.props.data}`, {\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    const tilejson = await response.json();\n    this.setState({tilejson});\n  }\n}\n\nCartoBQTilerLayer.layerName = 'CartoBQTilerLayer';\n"],"file":"carto-bqtiler-layer.js"}