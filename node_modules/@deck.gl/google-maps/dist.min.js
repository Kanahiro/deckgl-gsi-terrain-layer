!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("deck")):"function"==typeof define&&define.amd?define(["deck"],t):"object"==typeof exports?exports.deck=t(require("deck")):e.deck=t(e.deck)}(window,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(t,n){t.exports=e},function(e,t,n){var o=n(5),r=("undefined"==typeof window?global:window).deck||{};if(!r.Layer)throw new Error("@deck.gl/core is not found");e.exports=Object.assign(r,o)},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(1),a=n.n(i),l=n(2),c=n.n(l),s=n(3);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n,o){if(n){if(n.props.userData._googleMap===e)return n;y(n)}var r={click:null,dblclick:null,mousemove:null,mouseout:null};n=new s.Deck(p(p({},o),{},{style:null,parent:d(t,o.style),initialViewState:{longitude:0,latitude:0,zoom:1},controller:!1,userData:{_googleMap:e,_eventListeners:r}}));var i=function(t){r[t]=e.addListener(t,(function(e){return function(e,t,n){var o={type:t,offsetCenter:h(n,e),srcEvent:n};switch(t){case"click":e._lastPointerDownInfo=e.pickObject(o.offsetCenter),o.tapCount=1,e._onEvent(o);break;case"dblclick":o.type="click",o.tapCount=2,e._onEvent(o);break;case"mousemove":o.type="pointermove",e._onPointerMove(o);break;case"mouseout":o.type="pointerleave",e._onPointerMove(o);break;default:return}}(n,t,e)}))};for(var a in r)i(a);return n}function d(e,t){var n=document.createElement("div");return n.style.position="absolute",Object.assign(n.style,t),e.getPanes().overlayLayer.appendChild(n),n}function y(e){var t=e.props.userData._eventListeners;for(var n in t)t[n].remove();e.finalize()}function h(e,t){if(e.pixel)return e.pixel;var n=t.getViewports()[0].project([e.latLng.lng(),e.latLng.lat()]);return{x:n[0],y:n[1]}}var v=function(){return!1},g=function(){function e(t){r()(this,e),this.props={},this._map=null;var n=new google.maps.OverlayView;n.onAdd=this._onAdd.bind(this),n.onRemove=this._onRemove.bind(this),n.draw=this._draw.bind(this),this._overlay=n,this.setProps(t)}return a()(e,[{key:"setMap",value:function(e){e!==this._map&&(this._map&&(this._overlay.setMap(null),this._map=null),e&&(this._map=e,this._overlay.setMap(e)))}},{key:"setProps",value:function(e){Object.assign(this.props,e),this._deck&&(e.style&&(Object.assign(this._deck.canvas.parentElement.style,e.style),e.style=null),this._deck.setProps(e))}},{key:"pickObject",value:function(e){return this._deck&&this._deck.pickObject(e)}},{key:"pickMultipleObjects",value:function(e){return this._deck&&this._deck.pickMultipleObjects(e)}},{key:"pickObjects",value:function(e){return this._deck&&this._deck.pickObjects(e)}},{key:"finalize",value:function(){this.setMap(null),this._deck&&(y(this._deck),this._deck=null)}},{key:"_onAdd",value:function(){this._deck=f(this._map,this._overlay,this._deck,this.props)}},{key:"_onRemove",value:function(){this._deck.setProps({layerFilter:v})}},{key:"_draw",value:function(){var e=this._deck,t=function(e,t){var n=e.getDiv().firstChild,o=n.offsetWidth,r=n.offsetHeight,i=t.getProjection(),a=e.getBounds(),l=a.getNorthEast(),c=a.getSouthWest(),s=i.fromLatLngToDivPixel(l),u=i.fromLatLngToDivPixel(c),p=new google.maps.Point(0,0),f=i.fromContainerPixelToLatLng(p),d=i.fromLatLngToDivPixel(f),y=d.x,h=d.y,v=i.getWorldWidth(),g=Math.ceil(o/v);y-=Math.floor(g/2)*v;var b=r?(u.y-s.y)/r:1,k=Math.log2(b||1)+e.getZoom()-1,m=new google.maps.Point(o/2,r/2),_=i.fromContainerPixelToLatLng(m),O=_.lat(),w=_.lng();if(Math.abs(O)>85.05113){O=O>0?85.05113:-85.05113;var j=new google.maps.LatLng(O,w);h+=(m=i.fromLatLngToContainerPixel(j)).y-r/2}return{width:o,height:r,left:y,top:h,zoom:k,pitch:e.getTilt(),latitude:O,longitude:w}}(this._map,this._overlay),n=t.width,o=t.height,r=t.left,i=t.top,a=t.zoom,l=t.pitch,c=t.latitude,s=t.longitude,u=0===l,p=e.canvas.parentElement.style;p.left="".concat(r,"px"),p.top="".concat(i,"px"),e.setProps({width:n,height:o,viewState:{latitude:c,longitude:s,zoom:a,repeat:!0},layerFilter:u?this.props.layerFilter:v}),e.redraw()}}]),e}();n.d(t,"GoogleMapsOverlay",(function(){return g}))}])}));